(rule
 (target input.zci)
 (deps (:zli input.zli) ../std/stdlib.zci)
 (action (run zeluc -I ../std -o %{target} %{zli})))

(rule
 (target gtkplot.zci)
 (deps (:zli gtkplot.zli) ../std/stdlib.zci)
 (action (run zeluc -I ../std -o %{target} %{zli})))

(rule
 (targets scope.ml scope.zci)
 (deps (:zli scope.zls) gtkplot.zci ../std/stdlib.zci)
 (action (run zeluc -I ../std -o scope.ml %{zli})))

(library
 (name gtklib)
 (public_name zelus-gtk)
 (optional)
 (libraries zelus lablgtk2)
 (modules input scope gtkplot))

(install
 (package zelus-gtk)
 (section share)
 (files input.zci scope.zci gtkplot.zci))