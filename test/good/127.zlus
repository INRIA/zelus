let atomic hybrid metro () = c where
  rec der t = 1.0 init -. 1.0
      reset z -> -. 1.0
  and z = up(last t)
  and present z -> do emit c  done


let hybrid main () =
  let c = metro () in
  present c() -> print_endline "coucou"
  else ()
