(* This program should be rejected because last x is used in a continuous context *)

let hybrid f () = x where
  rec der x = 1.0 init -2.0 reset (up(last x)) -> -1.0

let hybrid main () =
  let y = f () in
  ()

