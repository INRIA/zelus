let g = 9.81

let node ff () =
  let init x = 0 fby 1 fby 2 in
  x + 1

let hybrid f(z) = o where
  rec present z -> do o = 1.0 done else do der o = 1.0 done
  and init o = 2.0

let hybrid ball() =
  let rec der y = y' init 10.0
  and der y' = -. g init 0.0 reset up(-. y) -> 0.8 *. last y' in
  y

(*
let node from n returns m
  m = 0 fby (let rec p = 1 fby (m+p) in p)

let node main() =
  let o = from 0 in
  print_int o; print_newline ()
*)


(*
let node h x =
  let rec init o = 1 and o = last o + 1 in last o (* + last x *)

let node hh x =
  local x do x = last x + 1 and init x = 0 in last x + 1
*)

(*
let node h x =
  let rec init o = 1 and o = last o + 1 in last o (* + last x *)

let node hh x =
  local x do x = last x + 1 and init x = 0 in last x + 1
*)

(* lastinpatterns is buggy *)

(*
let f x = 1


let node cond_act (c) = (x, y) where rec
  init x = 0 and init y = 0
  and match c with
  | true -> do x = 0 -> pre x + 1 done
  | false -> do y = 0 -> pre y + 1 done
  end
*)

(*
let node j x =
  let rec o = 0 fby x + 1
  and z = 1 fby o
  and k = z + 2 in k + o

let node jj x = j(x+1) + j(x+2)

let node main () =
  let nat = 0 in
  let o = jj nat in
  print_int o; print_newline ()
*)
